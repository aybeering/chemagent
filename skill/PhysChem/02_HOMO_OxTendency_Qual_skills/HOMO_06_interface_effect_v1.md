# HOMO_06_interface_effect_v1 — 界面/电场环境对氧化行为的修正

## Triggers
- 分析对象为电解液分子，需考虑界面环境
- 需要判断"在正极/负极界面，氧化行为是否改变"
- 需要评估双电层电场对氧化位点优先级的影响

## Inputs
- 界面类型：
  - `cathode_interface`: 正极界面（高电位，氧化环境）
  - `anode_interface`: 负极界面（低电位，还原环境）
  - `bulk_phase`: 体相（无界面效应）
- 电极材料（可选）：LCO / NCM / LFP / Li metal / Graphite 等
- 电位范围（可选）：高压（>4.3V）/ 常规（3.0-4.3V）
- 分子吸附信息（可选）：可能的吸附构象与暴露官能团

## Outputs
- `interface_modifier`: 界面对氧化排序的修正因子
  - `boost`: 某些位点氧化倾向增强
  - `suppress`: 某些位点氧化倾向降低
  - `reorder`: 位点优先级重排
- `field_effect`: 电场对分子电子结构的影响方向
- `adsorption_exposure`: 因吸附导致特定官能团暴露的效应
- `ox_pathway_hint`: 界面可能的氧化路径提示（单电子 / 直接脱氢 / 配位活化）
- `notes`: 环境依赖性说明与警示

## Rules

### 界面类型对氧化评估的影响

| 界面类型 | 对氧化评估的影响 |
|----------|-----------------|
| 正极界面（高压） | 强化氧化驱动；HOMO 评估更严格；考虑催化效应 |
| 正极界面（常规） | 中等氧化驱动；按体相 HOMO 排序基本有效 |
| 负极界面 | 氧化驱动弱；本模块适用性降低（应切换到 LUMO/还原模块） |
| 体相 | 无界面效应；纯粹基于 HOMO 评估 |

### 电场效应

双电层产生的强电场可影响分子电子结构：

| 电场方向 | 效应 |
|----------|------|
| 场指向分子 | 可能稳定正电荷中间体 → 某些位点氧化增强 |
| 场背离分子 | 可能不利于正电荷中间体 → 氧化可能受抑制 |
| 非均匀场 | 不同位点受力不同 → 可能导致优先级重排 |

### 吸附取向效应

| 吸附模式 | 氧化影响 |
|----------|---------|
| 极性官能团朝向电极 | 该官能团优先氧化，其他位点被"遮蔽" |
| 平躺吸附 | 多位点同时暴露，按 HOMO 排序有效 |
| 弱吸附/快速交换 | 接近体相行为 |

### 正极材料特异性（高级）

| 电极材料 | 特殊考虑 |
|----------|---------|
| 高压 NCM/NCA (>4.5V) | 极强氧化驱动；可能活化通常稳定的位点 |
| LCO (4.2V) | 中等氧化驱动；Co³⁺/Co⁴⁺ 可能有催化效应 |
| LFP (3.4V) | 较弱氧化驱动；Fe 氧化活性较低 |
| 富锂材料 | 表面 O²⁻ 可能参与氧化 |

### 修正因子输出格式

```yaml
interface_modifier:
  boost:
    - site: "孤对N"
      reason: "吸附使 N 朝向电极，优先氧化"
  suppress:
    - site: "苄位C-H"
      reason: "被主体分子遮蔽，接触电极机会低"
  reorder:
    original: [位点A, 位点B, 位点C]
    modified: [位点B, 位点A, 位点C]
    reason: "电场效应使 B 的氧化势垒降低"
```

## Steps
1. 识别界面类型与电极环境。
2. 评估电场效应：
   - 强电场环境 → 考虑电场对电子分布的影响
   - 弱电场/体相 → 跳过此步
3. 评估吸附效应（如有信息）：
   - 识别可能的吸附构象
   - 判断哪些官能团暴露于电极
4. 应用材料特异性规则（如适用）。
5. 输出修正因子：
   - 哪些位点被增强（boost）
   - 哪些位点被抑制（suppress）
   - 是否需要重排优先级（reorder）
6. 提供氧化路径提示与警示。

## Examples

### Example 1: DMC 在 NCM 高压正极界面
```
输入:
  分子: 碳酸二甲酯 (DMC)
  界面: cathode_interface
  电极: NCM (4.5V)

分析:
- 体相 HOMO 排序: 酯氧孤对 > 烷基C-H
- 界面效应:
  - 高电位强氧化驱动
  - 羰基可能吸附于 TM 位点
  - Co/Ni 高价态可能催化氧化

输出:
  interface_modifier:
    boost:
      - site: "羰基邻近位点"
        reason: "吸附于 TM 位点，活化 C-O 键"
    reorder:
      original: [酯氧孤对, 烷基C-H]
      modified: [烷基C-H (α-羰基), 酯氧孤对]
      reason: "界面催化使 α-羰基 C-H 优先氧化"
  ox_pathway_hint: "可能经历单电子氧化+脱质子"
```

### Example 2: EC 在 LFP 正极界面
```
输入:
  分子: 碳酸乙烯酯 (EC)
  界面: cathode_interface
  电极: LFP (3.4V)

分析:
- 体相 HOMO 排序: 酯氧孤对 > 亚甲基C-H
- 界面效应:
  - 电位较低，氧化驱动中等
  - LFP 表面活性较低

输出:
  interface_modifier:
    boost: []
    suppress: []
    reorder: null
  notes: "LFP 电位较低，界面氧化效应不显著；按体相 HOMO 排序有效"
```

### Example 3: 胺类添加剂在正极
```
输入:
  分子: R-NH₂（脂肪胺）
  界面: cathode_interface
  电极: NCM (4.3V)

分析:
- 体相 HOMO: 胺N孤对极高
- 界面效应:
  - 胺基极易被高压正极氧化
  - 可能快速消耗形成保护膜

输出:
  interface_modifier:
    boost:
      - site: "胺N"
        reason: "高 HOMO + 高电位 = 快速氧化"
  ox_pathway_hint: "优先发生单电子氧化，可能形成 N 自由基中间体"
  notes: "胺类在高压正极极不稳定，可能作为牺牲型添加剂"
```

## Guardrails
- **不在负极界面使用**：本 skill 针对氧化评估；负极界面应使用还原相关模块。
- **无界面信息时跳过**：若输入为 `bulk_phase`，直接返回空修正因子。
- **不输出具体电位数值**：只给定性的"高/中/低"电位驱动评估。
- **吸附信息为可选**：无吸附信息时，假设多种构象共存。
- **材料特异性为高级规则**：无电极材料信息时，使用通用正极假设。
- **降低置信度标注**：界面效应复杂，输出应标注"定性参考，实际行为依赖具体条件"。

